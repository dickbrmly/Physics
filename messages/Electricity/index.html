<!doctype html>
<title>Electricity Disscussion Board</title>
<link href="index.css" rel="styleSheet" />
<script src="index.js"></script>
<script>loadXMLDoc();</script>
<html0 xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta name="description" content="Interactive Physics Message Board">
        <meta name="keywords" content="HTML,CSS,JavaScript">
        <meta name="author" content="Richard Bromley">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <h2 style="margin-left:45%">Electricity Discussions</h2>

    <body>
        <table id='topics' class='topics'></table>
        <div>
            <button style="margin-left:40%; align-content:flex-end" class="button" onclick="window.close()"> Close Window </button>
            <button style="margin-left:5%; align-content:flex-end" id="messageButton" class="button" onclick="grabLogin()"> Message </button>
        </div>
    </body>

    <div id="message" class="modal">
        <form class="modal-content">
            <div class="container">

                <h2 style="text-align:center; color:black">Message Form</h2>

                <input type="hidden" name="form" value="Electricity">

                <<input id="uname" type="hidden" name="uname">
                <script>
                    var xmlhttp;
                    if (window.XMLHttpRequest) {
                        xmlhttp = new XMLHttpRequest(); //for IE7+, Firefox, Chrome, Opera, Safari
                    } else {
                        xmlhttp = new ActiveXObject("Microsoft.XMLHTTP"); //for IE6, IE5
                    }
                    //Create a asynchronous GET request
                    xmlhttp.open("GET", "uname.txt", false);
                    xmlhttp.send(null);

                    //Execution blocked till server send the response
                    if (xmlhttp.readyState == 4) {
                        if (xmlhttp.status == 200) {
                            var response = JSON.parse(xmlhttp.responseText);
                            document.getElementById("uname").value = response.userName;
                        }
                        else {
                            alert('Something is wrong !!');
                        }
                    }
                </script>
                <br /><br />
                <label style="margin-left:40%" for="message">Comment</label>
                <textarea id="text" style="margin-left:5%" name="message" cols="50" rows="5"></textarea>



            </div>

            <div class="container" style="background-color:#f1f1f1">
                <button onclick="cancel()" class="cancelbtn">Cancel</button>
                <button type="submit">Submit</button>
            </div>
        </form>
    </div>

    <script>
        document.getElementById("messageButton").addEventListener("click", grabMessage);
    </script>
